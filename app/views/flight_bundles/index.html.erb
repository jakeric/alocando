<div class="wrapper">

<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
  Book
</button>

<!-- Modal -->
<div class="modal fade modal-book" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header ">
         <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>


      </div>
      <div class="modal-body">
          <p>Choose your starting location:</p>
          <button type="button" class="btn btn-primary btn-lg" >
  city 1</button>
 <button type="button" class="btn btn-primary btn-lg">
  city 2</button>
  <p>Preis ab "Your City":</p>
   <p>Preis ab "Your Friends City":</p>
      <p>Be fair and share the bill. You owe your friend 50 Euro.</p>

      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

      </div> -->
    </div>
  </div>
</div>


  <!-- container on top with the search bar, the recap and filters  -->
  <div class="container results__container-head">

    <!-- search input -->
    <div class="results__search-input">
      <div class="results__search-form">
        <form action="/flight_bundles" method="get" class="form-inline form-homepage">

          <label class="sr-only" for="inlineFormInput">Your city</label>
          <input type="text" required class="input-padding form-control mb-2 mr-sm-2 awesomplete" id="inlineFormInputCity" placeholder="Your city" name="your-city" list="mylist">

          <label class="sr-only" for="inlineFormInputName2">Your friend's city</label>
          <input type="text" required class="input-padding form-control mb-2 mr-sm-2 awesomplete" id="inlineFormInputFriendCity" placeholder="Your friend's city" name="friends-city" list="mylist">

          <!-- list for the autocomplete -->
          <datalist id="mylist">
            <% City.all.each do |city| %>
            <option> <%= city.name %> </option>
            <% end %>
          </datalist>

          <label class="sr-only" for="inlineFormInput">Start and Return Date</label>

        <div class="buoy-show-datepicker input-padding" >
          <div class="datepicker-field">
            <input type="text" required class="form-control mb-2 mr-sm-2" id="inlineFormStartInputDate" placeholder="Start and Return Date" name="start-date">
          </div>
        </div >
        <div class="datepicker-submit">
          <button type="submit" class="btn btn-orange mb-2">Search</button>
        </div>
        </form>
      </div>
    </div>
    <!-- Above is closing of search input -->

    <div class="results__search-recap">
      <h3>
        <%= @bundle.size %> results flying from
        <strong><%= params["your-city"] %></strong>
        and
        <strong><%= params["friends-city"] %></strong>,
        from
        <strong><%= Date.parse(params["start-date"].split(" to ")[0]).strftime("%d/%m/%Y") %></strong>
        to
        <strong><%= Date.parse(params["start-date"].split(" to ")[1]).strftime("%d/%m/%Y") %></strong>
        </h3>
    </div>
  </div>
  <!-- above closing container with the search bar and filters  -->

  <!-- XXXX NEW CONTAINER - WITH RESULTS AND CITY INFO -->
  <div class="container results__container-results">

    <!-- left side of the screen, with the results cards  -->
    <div class="results__results-list-side">
      <div class="row results__results-list-row">
        <% @bundle.each do |flight_bundle| %>
$          <div class=" link-color-hover col-xs-12" >

            <%= link_to (render 'components/bundle_card', flight_bundle: flight_bundle), flight_bundles_path(flight_bundle: flight_bundle, params: @search_params), remote: true %>


          </div>
        <% end %>
        <div class="col-xs-12">
          <div class="results-loadmore-circle">
            <i class="fas fa-circle"></i>
            <i class="fas fa-circle"></i>
            <i class="fas fa-circle"></i>
          </div>

        </div>
      </div>
    </div>
    <!-- above is the closing div of the LEFT side of the screen  -->

    <!-- right side of the screen, with city info  -->
    <div class="results__results-infos-side">
      <div class="row results__results-infos-row" id="destination_infos">

        <%= render 'components/destination_card', flight_bundle: @bundle_id %>

      </div>
    </div>
    <!-- above is the closing div of the RIGHT side of the screen  -->

  </div>
  <!-- above is the closing div of the container results  -->

</div>
